jQuery(document).ready(function(){azTriggerSelect(),azTriggerClick(),azObjectFit(),azModal()});var azObjectFit=function(){var e=jQuery(".modazdirectory__results")[0];"none"==getComputedStyle(e,":before").content&&(jQuery(".modazdirectory__image").wrap('<div class="modazdirectory__image-container"></div>'),jQuery(".modazdirectory__image-container").each(function(){var e=jQuery(this),t=e.find("img").prop("src");t&&e.css("backgroundImage","url("+t+")")}))},azPush=function(e){if(window.history&&history.pushState){var t="?lastletter="+e+"#modazdirectory";history.pushState(e,"",t)}},azTriggerClick=function(){jQuery(".modazdirectory__link").on("click",function(e){e.preventDefault();var t=this.rel;azRequest(t),azPush(t)})},azTriggerSelect=function(){jQuery("#modazdirectory__select").on("change",function(e){var t;t=0==this.selectedIndex?jQuery("option:eq(1)",this).text():jQuery(this).find("option:selected").text(),azRequest(t),azPush(t)})},azSelectDefault=function(e){jQuery("#modazdirectory__select option").filter(function(){return jQuery(this).text()==e}).prop("selected",!0)};window.addEventListener("popstate",function(e){null!==e.state&&azRequest(e.state)});var azRequest=function(r){var a=new XMLHttpRequest;a.open("GET","?option=com_ajax&module=azdirectory&method=getContacts&data="+r+"&format=json"),a.onload=function(){if(200===a.status){var e=document.getElementById("modazdirectory"),t=(new DOMParser).parseFromString(a.responseText,"text/html");e.innerHTML(t),azTriggerSelect(),azSelectDefault(r),azTriggerClick(),azModal()}else console.log("Request failed. Returned status of "+a.status)},a.send()},azModal=function(){if(1==modazNameHyperlink){var e=modazModalStyle.displayFormat;"plain"!=e&&"tabs"!=e||jQuery('.modazdirectory__results a[data-toggle="modal"]').on("click",function(e){var t=jQuery(e.currentTarget).data("remote");return jQuery("#modazdirectory__modal").removeData("modal"),jQuery("#modazdirectory__modal").modal({remote:t}),!1}),"sliders"==e&&jQuery('.modazdirectory__results a[data-toggle="modal"]').on("click",function(e){var t=jQuery(e.currentTarget).data("remote");return jQuery("#modazdirectory__modal").on("shown.bs.modal",function(){jQuery("#modazdirectory__modal-body").load(t,function(){jQuery("#slide-contact").attr("id","modazdirectory__slide-contact"),jQuery("#modazdirectory__modal .accordion-toggle").each(function(){jQuery(this).on("click",function(){var e=jQuery(this).parent().parent().next();return e.hasClass("in")?e.removeClass("in"):e.addClass("in"),!1})})})}).modal(),!1}),jQuery("[data-dismiss]").on("click",function(){jQuery("#modazdirectory__modal-body").html('<div class="modal-spinner"></div>')})}};